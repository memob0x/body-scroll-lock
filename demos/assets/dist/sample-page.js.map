{"version":3,"sources":["sample-page.js"],"names":["global","factory","exports","module","define","amd","status","setStatus","bool","settings","incubator","setOptions","options","html","document","documentElement","body","getElementsByTagName","head","stylerID","styler","createElement","type","id","setStyle","css","remove","styleSheet","cssText","innerHTML","appendChild","createTextNode","querySelector","_incubator","s4","Math","random","toString","substring","state","scroll","top","left","behavior","dimensions","width","height","scrollbar","y","x","setState","vw","window","innerWidth","vh","innerHeight","clientWidth","clientHeight","scrollTop","scrollLeft","scrollbars","scrollWidth","scrollHeight","corrections","defaults","selector","property","inverted","supportedProperty","setCorrections","collection","collectionType","Array","isArray","forEach","entry","entryType","push","indexOf","getCorrections","length","gap","factor","lock","firstChild","append","unlock","before","scrollTo","toggle","timer","addEventListener","clearTimeout","setTimeout","bodyScroll","isLocked","logEl","log","message","console","hasChildNodes","ol","list","li","offsetHeight","classList","incubator$1"],"mappings":"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","file":"sample-page.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\n    typeof define === 'function' && define.amd ? define('samplePage', factory) :\n    (factory());\n}(this, (function () { 'use strict';\n\n    let status = false;\n    const setStatus = (bool = true) => (status = bool);\n\n    let settings = {\n        incubator: false // experimental feature\n    };\n\n    const setOptions = (options = {}) => {\n        if (!status) {\n            settings = { ...settings, ...options };\n        }\n    };\n\n    const html = document.documentElement;\n    const body = document.body || document.getElementsByTagName('body')[0];\n    const head = document.head || document.getElementsByTagName('head')[0];\n\n    const stylerID = 'body-scroll';\n    const styler = document.createElement('style');\n    styler.type = 'text/css';\n    styler.id = stylerID;\n\n    const setStyle = (css = '') => {\n        if (!css) {\n            styler.remove();\n\n            return;\n        }\n\n        if (styler.styleSheet) {\n            styler.styleSheet.cssText = css;\n        } else {\n            styler.innerHTML = '';\n            styler.appendChild(document.createTextNode(css));\n        }\n\n        if (!head.querySelector('style#' + stylerID)) {\n            head.appendChild(styler);\n        }\n    };\n\n    const incubator = (_incubator => {\n        const s4 = function() {\n            return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n        };\n\n        _incubator.id = `body-scroll-lock-${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n\n        return _incubator;\n    })(document.createElement('div'));\n\n    let state = {\n        scroll: {\n            top: 0,\n            left: 0,\n            behavior: 'auto'\n        },\n        dimensions: {\n            width: 0,\n            height: 0\n        },\n        scrollbar: {\n            y: 0,\n            x: 0\n        }\n    };\n\n    const setState = () => {\n        const vw = window.innerWidth;\n        const vh = window.innerHeight;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        const scroll = {\n            top: html.scrollTop,\n            left: html.scrollLeft\n        };\n        const scrollbars = {\n            y: vw > width ? vw - width : 0,\n            x: vh > height ? vh - height : 0\n        };\n\n        state = {\n            ...state,\n            ...{\n                scroll: scroll,\n                html: {\n                    width: vw + scroll.left - scrollbars.y,\n                    height: vh + scroll.top - scrollbars.x\n                },\n                body: {\n                    width: html.scrollWidth,\n                    height: html.scrollHeight\n                },\n                scrollbars: scrollbars\n            }\n        };\n    };\n\n    let corrections = [];\n\n    const defaults = {\n        selector: null,\n        property: 'margin-right',\n        inverted: false\n    };\n\n    const supportedProperty = [\n        'margin-right',\n        'margin-bottom',\n        'padding-right',\n        'padding-bottom',\n        'right',\n        'bottom'\n    ];\n\n    const setCorrections = (collection = []) => {\n        corrections = [];\n\n        const collectionType = typeof collection;\n        if (\n            collectionType === 'string' ||\n            (!Array.isArray(collection) && collectionType === 'object')\n        ) {\n            collection = [collection];\n        }\n\n        collection.forEach(entry => {\n            if (entry) {\n                const entryType = typeof entry;\n\n                if (entryType === 'string') {\n                    corrections.push({\n                        ...defaults,\n                        ...{\n                            selector: entry\n                        }\n                    });\n                }\n\n                if (\n                    !Array.isArray(entry) &&\n                    entryType === 'object' &&\n                    entry.selector &&\n                    (!entry.property ||\n                        supportedProperty.indexOf(entry.property) > -1)\n                ) {\n                    corrections.push({\n                        ...defaults,\n                        ...entry\n                    });\n                }\n            }\n        });\n    };\n\n    const getCorrections = (inverted = false) => {\n        let css = '';\n\n        if (corrections.length) {\n            corrections.forEach(entry => {\n                const gap =\n                    state.scrollbars[\n                        entry.property.indexOf('right') > -1 ? 'y' : 'x'\n                    ];\n\n                if (gap > 0) {\n                    let factor = 1;\n\n                    if (inverted) {\n                        factor = entry.inverted ? -1 : 0;\n                    }\n\n                    css += `\n                ${entry.selector} {\n                    ${entry.property}: ${gap * factor}px!important;\n                }`;\n                }\n            });\n        }\n\n        return css;\n    };\n\n    const lock = () => {\n        if (!status) {\n            // snapshot of current state\n            setState();\n\n            //\n            if (settings.incubator) {\n                incubator.innerHTML = '';\n                while (body.firstChild) {\n                    incubator.append(body.firstChild);\n                }\n                body.append(incubator);\n            }\n\n            setStyle(`\n            html,\n            body\n            ${settings.incubator ? ', #' + incubator.id : ''} {\n                margin: 0!important;\n                padding: 0!important;\n                min-width: auto!important;\n                min-height: auto!important;\n                max-width: none!important;\n                max-height: none!important;\n            }\n\n            html\n            ${settings.incubator ? ', body' : ''} {\n                width: ${state.html.width}px!important;\n                height: ${state.html.height}px!important;\n            }\n\n            html {\n                position: fixed!important;\n                top: ${state.scroll.top * -1}px!important;\n                left: ${state.scroll.left * -1}px!important;\n            }\n\n            html,\n            body {              \n                overflow: visible!important;\n            }\n\n            ${settings.incubator ? '#' + incubator.id : 'body'} {\n                width: ${state.body.width}px!important;\n                height: ${state.body.height}px!important;\n            }\n            \n            ${getCorrections()}`);\n\n            setStatus(true);\n        }\n    };\n\n    const unlock = () => {\n        if (status) {\n            setStyle(getCorrections(true));\n\n            if (settings.incubator) {\n                while (incubator.firstChild) {\n                    incubator.before(incubator.firstChild);\n                }\n                incubator.remove();\n            }\n\n            window.scrollTo(state.scroll);\n\n            setStatus(false);\n        }\n    };\n\n    const toggle = () => (!status ? lock() : unlock());\n\n    let timer = null;\n\n    window.addEventListener('resize', () => {\n        clearTimeout(timer);\n        \n        timer = setTimeout(() => {\n            if (status) {\n                unlock();\n\n                lock();\n            }\n        }, 500);\n    });\n\n    var bodyScroll = {\n        lock: lock,\n        unlock: unlock,\n        toggle: toggle,\n        setCorrections: setCorrections,\n        isLocked: () => status,\n        setOptions: setOptions\n    };\n\n    const logEl = document.querySelector('#console');\n    const log = (...message) => {\n        console.log(...message);\n\n        if (!logEl.hasChildNodes()) {\n            const ol = document.createElement('ol');\n            logEl.append(ol);\n        }\n\n        const list = logEl.querySelector('ol');\n        const li = document.createElement('li');\n        li.innerHTML = message;\n        list.append(li);\n\n        logEl.scrollTop = list.offsetHeight;\n    };\n\n    bodyScroll.setCorrections([\n        {\n            selector: '#nav',\n            property: 'right'\n        },\n        '#console'\n    ]);\n\n    document\n        .querySelector('.toggle-body-scroll-lock')\n        .addEventListener('click', () => bodyScroll.toggle());\n\n    document\n        .querySelector('button.toggle-body-custom-scrollbar')\n        .addEventListener('click', () => {\n            log('toggling custom scrollbars');\n            document.documentElement.classList.toggle('custom-scrollbar');\n        });\n\n    document\n        .querySelector('button.toggle-body-min-width')\n        .addEventListener('click', () => {\n            log('toggling horizontal scrollbar');\n            document.documentElement.classList.toggle('min-width');\n        });\n\n    let incubator$1 = false;\n    bodyScroll.setOptions({\n        incubator: incubator$1\n    });\n    document\n        .querySelector('button.toggle-incubator')\n        .addEventListener('click', () => {\n            log('toggling incubator mode');\n            if (!bodyScroll.isLocked()) {\n                incubator$1 = !incubator$1;\n                bodyScroll.setOptions({\n                    incubator: incubator$1\n                });\n            }\n        });\n\n})));\n"]}