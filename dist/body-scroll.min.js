"use strict";function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){_defineProperty(t,e,n[e])})}return t}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("bodyScroll",e):(void 0).bodyScroll=e()}(0,function(){var t=document.documentElement,e=document.head||document.getElementsByTagName("head")[0],n=navigator.userAgent,o=!!n.match(/Version\/[\d\.]+.*Safari/),r=/iPad|iPhone|iPod/.test(n)&&!window.MSStream&&o,c=function(){if("function"==typeof window.CustomEvent)return window.CustomEvent;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}return t.prototype=window.Event.prototype,t}(),i=!1,l=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i=t},a={scroll:{top:0,left:0},html:{width:"auto",height:"auto"},body:{width:"auto",height:"auto",paddingRight:0,paddingBottom:0},scrollbars:{y:0,x:0}},s={important:!0,corrections:[]},d={selector:null,property:"margin-right",inverted:!1},u=["margin-right","margin-bottom","padding-right","padding-bottom","right","bottom"],h=function(t){t="body-scroll-".concat(t);var n=e.querySelector("style#".concat(t));return n||((n=document.createElement("style")).type="text/css",n.id=t,e.appendChild(n)),n},p=function(){var t=s.important?"!important":"",e=h("base");e.disabled=!i,e.sheet.cssRules.length||(e.sheet.insertRule("\n            html,\n            body {\n                margin: 0".concat(t,";\n                min-width: auto").concat(t,";\n                min-height: auto").concat(t,";\n                max-width: none").concat(t,";\n                max-height: none").concat(t,";\n            }\n        "),0),e.sheet.insertRule("\n            html {\n                padding: 0".concat(t,";\n            }\n        "),1));var n=h("scrollbar");n.disabled=!i,n.sheet.cssRules.length&&(n.sheet.deleteRule(1),n.sheet.deleteRule(0)),n.sheet.insertRule("\n        html {\n            width: ".concat(a.html.width,"px").concat(t,";\n            height: ").concat(a.html.height,"px").concat(t,";\n        }\n    "),0),n.sheet.insertRule("\n        body{\n            width: ".concat(a.body.width,"px").concat(t,";\n            height: ").concat(a.body.height,"px").concat(t,";\n            padding: 0 ").concat(a.body.paddingRight,"px ").concat(a.body.paddingBottom,"px 0").concat(t,";\n        }\n    "),1);var o=h("lock");o.disabled=!i,r?(o.sheet.cssRules.length?n.sheet.deleteRule(2):(o.sheet.insertRule("\n                html,\n                body {\n                    overflow: visible".concat(t,";\n                }\n            "),0),o.sheet.insertRule("\n                html {\n                    position: fixed".concat(t,";\n                }\n            "),1)),o.sheet.insertRule("\n            html {\n                top: ".concat(-1*a.scroll.top,"px").concat(t,";\n                left: ").concat(-1*a.scroll.left,"px").concat(t,";\n            }\n        "),2)):o.sheet.cssRules.length||o.sheet.insertRule("\n                body {\n                    overflow: hidden".concat(t,";\n                }\n            "),0);var c=s.corrections;if(c.length){for(var l=h("corrections"),d=l.sheet.cssRules.length-1;d>=0;d--)l.sheet.deleteRule(d);c.forEach(function(t){var e=a.scrollbars[t.property.indexOf("right")>-1?"y":"x"];if(e>0){var n=1;i||(n=t.inverted?-1:0),l.sheet.insertRule("\n                    ".concat(t.selector," {\n                        ").concat(t.property,": ").concat(e*n,"px").concat(s.important?"!important":"",";\n                    }\n                "))}})}},f=function(){i||(l(!0),function(){var e=window.innerWidth,n=window.innerHeight,o=_objectSpread({},a,{scroll:{top:t.scrollTop,left:t.scrollLeft}});if(r)o.html={width:e+o.scroll.left,height:n+o.scroll.top},o.body={width:t.scrollWidth,height:t.scrollHeight};else{var c=t.clientWidth,i=t.clientHeight;o.scrollbars={y:e>c?e-c:0,x:n>i?n-i:0},o.body.paddingRight=o.scrollbars.y}a=o}(),p(),window.dispatchEvent(new c("bodyScrollLock")))},y=function(){i&&(l(!1),p(),t.scrollTop=a.scroll.top,t.scrollLeft=a.scroll.left,window.dispatchEvent(new c("bodyScrollUnlock")))},b=null;return window.addEventListener("resize",function(){clearTimeout(b),b=setTimeout(function(){i&&(y(),f())},500)}),{lock:f,unlock:y,toggle:function(){return i?y():f()},isLocked:function(){return i},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i||((s=_objectSpread({},s,t)).corrections=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[],n=_typeof(t);return("string"===n||!Array.isArray(t)&&"object"===n)&&(t=[t]),t.forEach(function(t){if(t){var n=_typeof(t);"string"===n&&e.push(_objectSpread({},d,{selector:t})),!Array.isArray(t)&&"object"===n&&t.selector&&(!t.property||u.indexOf(t.property)>-1)&&e.push(_objectSpread({},d,t))}}),e}(s.corrections))}}});
//# sourceMappingURL=body-scroll.min.js.map
