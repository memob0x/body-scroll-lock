{"version":3,"sources":["body-scroll.mjs"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","global","factory","exports","module","define","amd","self","bodyScroll","NAMESPACE","$head","document","head","$html","documentElement","$body","body","$style","querySelector","concat","createElement","id","supportsCustomEvents","window","CustomEvent","_x","_y","_styleExists","parentNode","_getClientWidth","locked","style","width","clientWidth","overflow","_dispatch","eventName","dispatchEvent","_lock","scrollX","scrollY","disabled","appendChild","sheet","cssRules","deleteRule","insertRule","classList","add","_unlock","remove","scrollTo","_resize","mode","update","isLocked","contains","Object","freeze","__proto__","lock","unlock"],"mappings":"AAAA,aAEA,SAASA,QAAQC,GAAwT,OAAtOD,QAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAAiBF,GAAO,cAAcA,GAA2B,SAAiBA,GAAO,OAAOA,GAAyB,mBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAAyBA,IAExV,SAAWK,EAAQC,GACqD,YAAlD,oBAAZC,QAA0B,YAAcR,QAAQQ,WAA4C,oBAAXC,OAAyBA,OAAOD,QAAUD,IAA8B,mBAAXG,QAAyBA,OAAOC,IAAMD,OAAO,aAAcH,IAAYD,EAASA,GAAUM,MAAaC,WAAaN,IAD5Q,MAEG,EAAQ,WAGT,IAAIO,EAAY,mBACZC,EAAQC,SAASC,KACjBC,EAAQF,SAASG,gBACjBC,EAAQJ,SAASK,KAEjBC,EAASP,EAAMQ,cAAc,IAAIC,OAAOV,KAAe,WACzD,IAAIQ,EAASN,SAASS,cAAc,SAEpC,OADAH,EAAOI,GAAKZ,EACLQ,EAHkD,GAMvDK,EAAqD,mBAAvBC,OAAOC,YACrCC,EAAK,EACLC,EAAK,EAWLC,EAAe,WACjB,OAAOV,EAAOW,aAAelB,GAG3BmB,EAAkB,SAAyBC,GAG7C,OAFAf,EAAMgB,MAAMC,MAAQF,EAAS,GAAGX,OAAON,EAAMoB,YAAa,MAAQ,GAClEpB,EAAMkB,MAAMG,SAAWJ,EAAS,SAAW,GACpCjB,EAAMoB,aAGXE,EAAY,SAAmBC,GACjC,OAAOd,EAAuBC,OAAOc,cAAc,IAAIb,YAAYY,IAAc,cAG/EE,EAAQ,WAtBVb,EAAKF,OAAOgB,QACZb,EAAKH,OAAOiB,QAuBZvB,EAAOwB,UAAW,EAGbd,KACHjB,EAAMgC,YAAYzB,GAGhBA,EAAO0B,MAAMC,SANL,IAOV3B,EAAO0B,MAAME,WAPH,GAUZ5B,EAAO0B,MAAMG,WAAW,0BAA0B3B,OAAOV,EAAW,eAAeU,QAAyB,EAAlBI,OAAOiB,QAAc,iCAAiCrB,OAAOV,EAAW,oBAAoBU,OAAOU,GAAgB,GAAQA,GAAgB,GAAQ,4BAVjO,GAWZhB,EAAMkC,UAAUC,IAAIvC,IAGlBwC,EAAU,WACZpC,EAAMkC,UAAUG,OAAOzC,GAnChBc,OAAO4B,SAAS1B,EAAIC,GAqC3BT,EAAOwB,UAAW,GAGhBW,EAAU,SAAiBC,GAC7B,OAAO9B,OAAO,GAAGJ,OAAOkC,EAAM,kBAAkB,SAAUC,IAGxDC,EAAW,WACb,OAAO5B,MAAmBV,EAAOwB,UAAY5B,EAAMkC,UAAUS,SAAS/C,IAGpE6C,EAAS,WACNC,MAILN,IAEAX,MA0BF,OAPUmB,OAAOC,OAAO,CACtBC,UAAW,KACXJ,SAAUA,EACVD,OAAQA,EACRM,KApBS,WACTtB,IAEAH,EAAU,kBAEViB,EAAQ,QAgBRS,OAbW,WACXZ,IAEAd,EAAU,oBAEViB,EAAQ","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('bodyScroll', factory) :\n    (global = global || self, global.bodyScroll = factory());\n}(this, (function () { 'use strict';\n\n    const NAMESPACE = \"body-scroll-lock\";\n\n    const $head = document.head;\n    const $html = document.documentElement;\n    const $body = document.body;\n\n    const $style =\n        $head.querySelector(`#${NAMESPACE}`) ||\n        (() => {\n            const $style = document.createElement(\"style\");\n\n            $style.id = NAMESPACE;\n\n            return $style;\n        })();\n\n    const supportsCustomEvents = typeof window.CustomEvent === \"function\";\n\n    /**\n     *\n     */\n    let _x = 0;\n    let _y = 0;\n\n    /**\n     *\n     */\n    const save = () => {\n        _x = window.scrollX;\n        _y = window.scrollY;\n    };\n\n    /**\n     *\n     */\n    const restore = () => window.scrollTo(_x, _y);\n\n    /**\n     * Checks if the style element is in the tag head or not\n     * @returns {boolean} true if present\n     */\n    const _styleExists = () => $style.parentNode === $head;\n\n    /**\n     *\n     * @param {boolean} locked\n     * @returns {number}\n     */\n    const _getClientWidth = locked => {\n        $body.style.width = locked ? `${$html.clientWidth}px` : \"\";\n        $html.style.overflow = locked ? \"hidden\" : \"\";\n\n        return $html.clientWidth;\n    };\n\n    /**\n     *\n     * @param {string} eventName\n     */\n    const _dispatch = eventName =>\n        supportsCustomEvents\n            ? window.dispatchEvent(new CustomEvent(eventName))\n            : () => {};\n\n    /**\n     *\n     */\n    const _lock = () => {\n        save();\n        $style.disabled = false;\n\n        const index = 0;\n\n        if (!_styleExists()) {\n            $head.appendChild($style);\n        }\n\n        if ($style.sheet.cssRules[index]) {\n            $style.sheet.deleteRule(index);\n        }\n\n        $style.sheet.insertRule(\n            `:root {\n            --${NAMESPACE}-top-rect: ${window.scrollY * -1}px!important;\n            --${NAMESPACE}-scrollbar-gap: ${_getClientWidth(true) -\n            _getClientWidth(false)}px!important;\n        }`,\n            index\n        );\n\n        $html.classList.add(NAMESPACE);\n    };\n\n    /**\n     *\n     */\n    const _unlock = () => {\n        $html.classList.remove(NAMESPACE);\n\n        restore();\n\n        $style.disabled = true;\n    };\n\n    /**\n     *\n     */\n    const _resize = mode => window[`${mode}EventListener`](\"resize\", update);\n\n    /**\n     *\n     */\n    /**\n     * Returns whether the body scroll is locked or not\n     * @returns {boolean} The body scroll lock state\n     */\n    const isLocked = () =>\n        _styleExists() && !$style.disabled && $html.classList.contains(NAMESPACE);\n\n    /**\n     *\n     */\n    const update = () => {\n        if (!isLocked()) {\n            return;\n        }\n\n        _unlock();\n\n        _lock();\n    };\n\n    /**\n     *\n     */\n    const lock = () => {\n        _lock();\n\n        _dispatch(\"bodyscrolllock\");\n\n        _resize(\"add\");\n    };\n\n    /**\n     *\n     */\n    const unlock = () => {\n        _unlock();\n\n        _dispatch(\"bodyscrollunlock\");\n\n        _resize(\"remove\");\n    };\n\n    var Api = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        isLocked: isLocked,\n        update: update,\n        lock: lock,\n        unlock: unlock\n    });\n\n    return Api;\n\n})));\n"],"file":"body-scroll.es5.min.js"}