{"version":3,"sources":["body-scroll.mjs"],"names":["global","factory","exports","module","define","amd","bodyScroll","html","document","documentElement","body","getElementsByTagName","head","stylesIncubator","createElement","type","styler","status","setStatus","bool","scrollState","top","left","behavior","setScrollState","obj","s4","Math","floor","random","toString","substring","uniqueID","stringContains","heystack","needle","String","prototype","includes","indexOf","scrollbarGapSelectors","defaults","selector","property","registerScrollbarGapSelectors","collection","collectionType","Array","isArray","forEach","entry","entryType","push","lock","vw","vh","hw","hh","scrollbars","hasScrollbarsGapSelectors","length","scrollState$$1","scrollTop","scrollLeft","bw","clientWidth","bh","clientHeight","offsetWidth","offsetHeight","window","innerWidth","innerHeight","y","x","css","gap","styleSheet","cssText","innerHTML","appendChild","createTextNode","unlock","remove","scrollTo","namespacesKey","addEventListener","element","event","handler","options","split","_requestAnimationFrame","requestAnimationFrame","_cancelAnimationFrame","cancelAnimationFrame","vendor","CustomEvent","_polyfill","params","bubbles","cancelable","detail","undefined","evt","createEvent","initCustomEvent","Event","supportAnimationFrameTimers","requests","requestTimeout","fn","delay","setTimeout","start","Date","now","id","loop","current","delta","call","clearTimer","cancelTimeout","debounce","callback","wait","immediate","timer","args","apply","isLocked"],"mappings":"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","file":"body-scroll.js","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define('bodyScroll', factory) :\n    (global.bodyScroll = factory());\n}(this, (function () { 'use strict';\n\n    const html = document.documentElement;\n    const body = document.body || document.getElementsByTagName('body')[0];\n    const head = document.head || document.getElementsByTagName('head')[0];\n\n    const stylesIncubator = document.createElement('style');\n    stylesIncubator.type = 'text/css';\n    const styler = stylesIncubator;\n\n    let status = false;\n    const setStatus = (bool = true) => (status = bool);\n\n    let scrollState = {\n        top: 0,\n        left: 0,\n        behavior: 'auto'\n    };\n    const setScrollState = (obj = {}) =>\n        (scrollState = {\n            ...scrollState,\n            ...obj\n        });\n\n    /**\n     * @param {string} prop\n     * @param {string} value\n     * @returns {boolean}\n     */\n\n    const s4 = () =>\n        Math.floor((1 + Math.random()) * 0x10000)\n            .toString(16)\n            .substring(1);\n    /**\n     * @returns {string}\n     */\n    const uniqueID = () => s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n\n    /**\n     * @param {string} heystack\n     * @param {string} needle\n     * @returns {boolean}\n     */\n    const stringContains = (heystack, needle) => (String.prototype.includes ? heystack.includes(needle) : heystack.indexOf(needle, 0) !== -1);\n\n    let scrollbarGapSelectors = [];\n    const defaults = {\n        selector: null,\n        property: 'margin-right'\n    };\n    const registerScrollbarGapSelectors = (collection = []) => {\n        const collectionType = typeof collection;\n        if (collectionType === 'string' || (!Array.isArray(collection) && collectionType === 'object')) {\n            collection = [collection];\n        }\n\n        collection.forEach(entry => {\n            if (entry) {\n                const entryType = typeof entry;\n\n                if (entryType === 'string') {\n                    scrollbarGapSelectors.push({\n                        ...defaults,\n                        ...{\n                            selector: entry\n                        }\n                    });\n                }\n\n                if (\n                    !Array.isArray(entry) &&\n                    entryType === 'object' &&\n                    entry.selector &&\n                    (!entry.property ||\n                        (entry.property === 'margin-right' || entry.property === 'margin-bottom' || entry.property === 'padding-right' || entry.property === 'padding-bottom'))\n                ) {\n                    scrollbarGapSelectors.push({\n                        ...defaults,\n                        ...entry\n                    });\n                }\n            }\n        });\n    };\n\n    const lock = () => {\n        if (!status) {\n            let vw = 0;\n            let vh = 0;\n            let hw = 0;\n            let hh = 0;\n            let scrollbars = {};\n\n            const hasScrollbarsGapSelectors = scrollbarGapSelectors.length;\n\n            const scrollState$$1 = setScrollState({\n                top: html.scrollTop,\n                left: html.scrollLeft\n            });\n            let bw = body.clientWidth;\n            let bh = body.clientHeight;\n            bw -= bw - body.offsetWidth;\n            bh -= bh - body.offsetHeight;\n            if (hasScrollbarsGapSelectors) {\n                vw = window.innerWidth;\n                vh = window.innerHeight;\n                hw = html.clientWidth;\n                hh = html.clientHeight;\n                scrollbars = {\n                    y: vw > hw ? vw - hw : 0,\n                    x: vh > hh ? vh - hh : 0\n                };\n            }\n\n            let css = `\n        html {\n            overflow: visible!important;\n            margin-right: 0!important;\n        }\n        html,\n        body {\n            padding-right: 0!important;\n            min-width: ${bw}px!important;\n            width: ${bw}px!important;\n            max-width: ${bw}px!important;\n            min-height: ${bh}px!important;\n            height: ${bh}px!important;\n            max-height: ${bh}px!important;\n        }\n        body {\n            overflow: hidden!important;\n            position: fixed!important;\n            top: 0!important;\n            left: 0!important;\n            right: auto!important;\n            bottom: auto!important;\n            margin: -${scrollState$$1.top}px 0 0 -${scrollState$$1.left}px!important;\n        }`;\n\n            if (hasScrollbarsGapSelectors) {\n                scrollbarGapSelectors.forEach(entry => {\n                    const gap = scrollbars[stringContains(entry.property, 'right') ? 'y' : 'x'];\n                    if (gap > 0) {\n                        css += `\n                    ${entry.selector} {\n                        ${entry.property}: ${gap}px!important;\n                    }`;\n                    }\n                });\n            }\n\n            if (styler.styleSheet) {\n                styler.styleSheet.cssText = css;\n            } else {\n                styler.innerHTML = '';\n                styler.appendChild(document.createTextNode(css));\n            }\n\n            head.appendChild(styler);\n\n            setStatus(true);\n        }\n    };\n\n    const unlock = () => {\n        if (status) {\n            styler.remove();\n            window.scrollTo(scrollState);\n            setStatus(false);\n        }\n    };\n\n    const namespacesKey = 'namespaces_' + uniqueID();\n\n    /**\n     * @param {HTMLElement} element\n     * @param {string} event\n     * @param {Function} handler\n     * @param {Object} options\n     * @returns {undefined}\n     */\n    const addEventListener = (element, event, handler, options) => {\n        if (!element[namespacesKey]) {\n            element[namespacesKey] = {};\n        }\n\n        element[namespacesKey][event] = handler;\n        element.addEventListener(event.split('.')[0], handler, options || false);\n    };\n\n    // TODO: improve this\n    let _requestAnimationFrame = window.requestAnimationFrame;\n    let _cancelAnimationFrame = window.cancelAnimationFrame;\n    ['ms', 'moz', 'webkit', 'o'].forEach(vendor => {\n        _requestAnimationFrame = _requestAnimationFrame || window[vendor + 'RequestAnimationFrame'];\n        _cancelAnimationFrame = _cancelAnimationFrame || window[vendor + 'CancelAnimationFrame'] || window[vendor + 'CancelRequestAnimationFrame'];\n    });\n    const requestAnimationFrame = _requestAnimationFrame;\n    const cancelAnimationFrame = _cancelAnimationFrame;\n\n    const CustomEvent =\n        window.CustomEvent ||\n        (() => {\n            const _polyfill = (event, params) => {\n                params = params || { bubbles: false, cancelable: false, detail: undefined };\n                const evt = document.createEvent('CustomEvent');\n                evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n                return evt;\n            };\n            _polyfill.prototype = window.Event.prototype;\n            return _polyfill;\n        })();\n\n    const supportAnimationFrameTimers = cancelAnimationFrame && requestAnimationFrame;\n\n    const requests = [];\n\n    /**\n     * Behaves the same as setTimeout except uses requestAnimationFrame() where possible for better performance\n     * @param {function} fn The callback function\n     * @param {int} delay The delay in milliseconds\n     */\n\n    const requestTimeout = (fn, delay) => {\n        if (!supportAnimationFrameTimers) {\n            return window.setTimeout(fn, delay);\n        }\n\n        const start = Date.now();\n        const id = uniqueID();\n        const loop = () => {\n            const current = Date.now();\n            const delta = current - start;\n\n            if (delta >= delay) {\n                fn.call();\n            } else {\n                requests[id] = requestAnimationFrame(() => loop());\n            }\n        };\n\n        requests[id] = requestAnimationFrame(() => loop());\n\n        return id;\n    };\n\n    const clearTimer = (type, id) => {\n        if (!supportAnimationFrameTimers) {\n            return window['clear' + type](id);\n        }\n\n        if (id) {\n            cancelAnimationFrame(requests[id]);\n            delete requests[id];\n        }\n\n        return id;\n    };\n\n    const cancelTimeout = id => clearTimer('Timeout', id);\n\n    const debounce = (callback = () => {}, wait = 50, immediate = false) => {\n        let timer = null;\n\n        return function(...args) {\n            cancelTimeout(timer);\n\n            timer = requestTimeout(() => {\n                timer = null;\n\n                if (!immediate) {\n                    callback.apply(this, args);\n                }\n            }, wait);\n\n            if (immediate && !timer) {\n                callback.apply(this, [...args]);\n            }\n        };\n    };\n\n    addEventListener(\n        window,\n        'resize.body-scroll-lock',\n        debounce(() => {\n            if (status) {\n                unlock();\n                lock();\n            }\n        }, 500)\n    );\n\n    var bodyScroll = {\n        lock: lock,\n        unlock: unlock,\n        registerScrollbarGapSelectors: registerScrollbarGapSelectors,\n        isLocked: () => status\n    };\n\n    return bodyScroll;\n\n})));\n"]}