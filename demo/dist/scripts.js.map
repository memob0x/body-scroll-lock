{"version":3,"sources":["scripts.js"],"names":["$console","document","querySelector","log","message","console","$ol","createElement","classList","add","appendChild","$li","innerHTML","scrollTop","scrollHeight","html","documentElement","body","isLegacyIOS","test","window","navigator","userAgent","isMultiTouchMacAkaIOS13","platform","maxTouchPoints","isAnyIOS","bodyScroll","ScrollPadlock","addEventListener","state","lock","unlock","search","input","open","remove","focus","close","contains","scrollTo","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","CustomEvent","event","params","bubbles","cancelable","detail","evt","createEvent","initCustomEvent"],"mappings":"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","sourcesContent":["const $console = document.querySelector(\".console\");\n\nconst log = (...message) => {\n    console?.log(...message);\n\n    let $ol = $console.querySelector(\"ol\");\n\n    if (!$ol) {\n        $ol = document.createElement(\"ol\");\n        $ol.classList.add(\"console__list\");\n\n        $console.appendChild($ol);\n    }\n\n    const $li = document.createElement(\"li\");\n    $li.classList.add(\"console__list__item\");\n\n    $li.innerHTML = message;\n    $ol.appendChild($li);\n\n    $ol.scrollTop = $ol.scrollHeight;\n};\n\nconst html = document.documentElement;\nconst body = document.body;\n\nconst isLegacyIOS = /iPad|iPhone|iPod/.test(window.navigator.userAgent);\nconst isMultiTouchMacAkaIOS13 =\n    window.navigator.platform === \"MacIntel\" &&\n    window.navigator.maxTouchPoints > 1;\nconst isAnyIOS = isLegacyIOS || isMultiTouchMacAkaIOS13;\n\nif (isAnyIOS) {\n    html.classList.add(\"ios\");\n}\n\nconst bodyScroll = new window.ScrollPadlock();\n\ndocument\n    .querySelector(\".toggle-scroll-lock\")\n    .addEventListener(\"click\", () =>\n        !bodyScroll.state ? bodyScroll.lock() : bodyScroll.unlock()\n    );\n\nconst search = document.querySelector(\".head__search\");\nconst input = document.querySelector(\".head__search__input\");\n\nconst open = () => {\n    html.classList.add('search');\n\n    search.classList.remove(\"head__search\");\n    search.classList.add(\"head__search--in\");\n    input.classList.remove(\"head__search__input\");\n    input.classList.add(\"head__search--in__input\");\n\n    bodyScroll.lock();\n\n    input.focus();\n};\n\nconst close = () => {\n    search.classList.add(\"head__search\");\n    search.classList.remove(\"head__search--in\");\n    input.classList.add(\"head__search__input\");\n    input.classList.remove(\"head__search--in__input\");\n\n    html.classList.remove('search');\n    \n    bodyScroll.unlock();\n\n    document.body.focus();\n};\n\ndocument.querySelector(\".toggle-search-input\").addEventListener(\"click\", () => {\n    if (!search.classList.contains(\"head__search__input--in\")) {\n        open();\n    } else {\n        close();\n    }\n});\n\ninput.addEventListener(\"click\", close);\n\nhtml.addEventListener(\"scrollpadlocklock\", () => log(\"body scroll locked\"));\nhtml.addEventListener(\"scrollpadlockunlock\", () => log(\"body scroll unlocked\"));\nhtml.addEventListener(\"scrollpadlockresize\", () => {\n    if (isAnyIOS) {\n        window.scrollTo(0, 0);\n    }\n});\n\n// ie11 compliancy\nif (!Element.prototype.matches) {\n    Element.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\n(function () {\n    if (typeof window.CustomEvent === \"function\") {\n        return false;\n    }\n\n    window.CustomEvent = function (event, params) {\n        params = params || { bubbles: false, cancelable: false, detail: null };\n\n        const evt = document.createEvent(\"CustomEvent\");\n\n        evt.initCustomEvent(\n            event,\n            params.bubbles,\n            params.cancelable,\n            params.detail\n        );\n\n        return evt;\n    };\n})();\n"]}